{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/cole.sluggett/Documents/git/Review-Me/grand-stack-starter-master/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _classCallCheck from \"/Users/cole.sluggett/Documents/git/Review-Me/grand-stack-starter-master/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/cole.sluggett/Documents/git/Review-Me/grand-stack-starter-master/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/cole.sluggett/Documents/git/Review-Me/grand-stack-starter-master/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/cole.sluggett/Documents/git/Review-Me/grand-stack-starter-master/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/cole.sluggett/Documents/git/Review-Me/grand-stack-starter-master/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/cole.sluggett/Documents/git/Review-Me/grand-stack-starter-master/ui/src/UserList.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n          query usersPaginateQuery(\\n            $first: Int\\n            $offset: Int\\n          ) {\\n            Review(first: $first, offset: $offset) {\\n              id\\n              stars\\n              reviewsWritten\\n            }\\n          }\\n        \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from \"react\";\nimport { Query } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport \"./UserList.css\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Table, TableBody, TableCell, TableHead, TableRow, Tooltip, Paper, TableSortLabel } from \"@material-ui/core\";\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      maxWidth: 700,\n      marginTop: theme.spacing.unit * 3,\n      overflowX: \"auto\",\n      margin: \"auto\"\n    },\n    table: {\n      minWidth: 700\n    }\n  };\n};\n\nvar UserList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UserList, _React$Component);\n\n  function UserList(props) {\n    var _this;\n\n    _classCallCheck(this, UserList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserList).call(this, props));\n\n    _this.handleSortRequest = function (property) {\n      var orderBy = property;\n      var order = \"desc\";\n\n      if (_this.state.orderBy === property && _this.state.order === \"desc\") {\n        order = \"asc\";\n      }\n\n      _this.setState({\n        order: order,\n        orderBy: orderBy\n      });\n    };\n\n    _this.state = {\n      order: \"asc\",\n      orderBy: \"name\",\n      page: 0,\n      rowsPerPage: 10\n    };\n    return _this;\n  }\n\n  _createClass(UserList, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          order = _this$state.order,\n          orderBy = _this$state.orderBy;\n      return React.createElement(Query, {\n        query: gql(_templateObject()),\n        variables: {\n          first: this.state.rowsPerPage,\n          offset: this.state.rowsPerPage * this.state.page,\n          orderBy: this.state.orderBy + \"_\" + this.state.order\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, function (_ref) {\n        var loading = _ref.loading,\n            error = _ref.error,\n            data = _ref.data;\n        if (loading) return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, \"Loading...\");\n        if (error) return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, \"Error\");\n        return React.createElement(Paper, {\n          className: _this2.props.classes.root,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(Table, {\n          className: _this2.props.classes.table,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, React.createElement(TableHead, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, React.createElement(TableRow, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, React.createElement(TableCell, {\n          key: \"name\",\n          sortDirection: orderBy === \"name\" ? order : false,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, React.createElement(Tooltip, {\n          title: \"Sort\",\n          placement: \"bottom-start\",\n          enterDelay: 300,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, React.createElement(TableSortLabel, {\n          active: orderBy === \"name\",\n          direction: order,\n          onClick: function onClick() {\n            return _this2.handleSortRequest(\"name\");\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, \"Name\"))), React.createElement(TableCell, {\n          key: \"avgStars\",\n          sortDirection: orderBy === \"avgStars\" ? order : false,\n          numeric: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, React.createElement(Tooltip, {\n          title: \"Sort\",\n          placement: \"bottom-end\",\n          enterDelay: 300,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, React.createElement(TableSortLabel, {\n          active: orderBy === \"avgStars\",\n          direction: order,\n          onClick: function onClick() {\n            return _this2.handleSortRequest(\"avgStars\");\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, \"Average Stars\"))), React.createElement(TableCell, {\n          key: \"numReviews\",\n          sortDirection: orderBy === \"numReviews\" ? order : false,\n          numeric: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, React.createElement(Tooltip, {\n          title: \"Sort\",\n          placement: \"bottom-start\",\n          enterDelay: 300,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, React.createElement(TableSortLabel, {\n          active: orderBy === \"numReviews\",\n          direction: order,\n          onClick: function onClick() {\n            return _this2.handleSortRequest(\"numReviews\");\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, \"Number of Reviews\"))))), React.createElement(TableBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, data.Review.map(function (n) {\n          return React.createElement(TableRow, {\n            key: n.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 144\n            },\n            __self: this\n          }, React.createElement(TableCell, {\n            component: \"th\",\n            scope: \"row\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 145\n            },\n            __self: this\n          }, n.id), React.createElement(TableCell, {\n            numeric: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 148\n            },\n            __self: this\n          }, n.stars ? n.stars.toFixed(2) : \"-\"), React.createElement(TableCell, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 151\n            },\n            __self: this\n          }, n.reviewsWritten));\n        }))));\n      });\n    }\n  }]);\n\n  return UserList;\n}(React.Component);\n\nexport default withStyles(styles)(UserList);","map":{"version":3,"sources":["/Users/cole.sluggett/Documents/git/Review-Me/grand-stack-starter-master/ui/src/UserList.js"],"names":["React","Query","gql","withStyles","Table","TableBody","TableCell","TableHead","TableRow","Tooltip","Paper","TableSortLabel","styles","theme","root","maxWidth","marginTop","spacing","unit","overflowX","margin","table","minWidth","UserList","props","handleSortRequest","property","orderBy","order","state","setState","page","rowsPerPage","first","offset","loading","error","data","classes","Review","map","n","id","stars","toFixed","reviewsWritten","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Query } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport \"./UserList.css\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Tooltip,\n  Paper,\n  TableSortLabel\n} from \"@material-ui/core\";\n\nconst styles = theme => ({\n  root: {\n    maxWidth: 700,\n    marginTop: theme.spacing.unit * 3,\n    overflowX: \"auto\",\n    margin: \"auto\"\n  },\n  table: {\n    minWidth: 700\n  }\n});\n\nclass UserList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      order: \"asc\",\n      orderBy: \"name\",\n      page: 0,\n      rowsPerPage: 10\n    };\n  }\n\n  handleSortRequest = property => {\n    const orderBy = property;\n    let order = \"desc\";\n\n    if (this.state.orderBy === property && this.state.order === \"desc\") {\n      order = \"asc\";\n    }\n\n    this.setState({ order, orderBy });\n  };\n\n  render() {\n    const { order, orderBy } = this.state;\n    return (\n      <Query\n        query={gql`\n          query usersPaginateQuery(\n            $first: Int\n            $offset: Int\n          ) {\n            Review(first: $first, offset: $offset) {\n              id\n              stars\n              reviewsWritten\n            }\n          }\n        `}\n        variables={{\n          first: this.state.rowsPerPage,\n          offset: this.state.rowsPerPage * this.state.page,\n          orderBy: this.state.orderBy + \"_\" + this.state.order\n        }}\n      >\n        {({ loading, error, data }) => {\n          if (loading) return <p>Loading...</p>;\n          if (error) return <p>Error</p>;\n\n          return (\n            <Paper className={this.props.classes.root}>\n              <Table className={this.props.classes.table}>\n                <TableHead>\n                  <TableRow>\n                    <TableCell\n                      key=\"name\"\n                      sortDirection={orderBy === \"name\" ? order : false}\n                    >\n                      <Tooltip\n                        title=\"Sort\"\n                        placement=\"bottom-start\"\n                        enterDelay={300}\n                      >\n                        <TableSortLabel\n                          active={orderBy === \"name\"}\n                          direction={order}\n                          onClick={() => this.handleSortRequest(\"name\")}\n                        >\n                          Name\n                        </TableSortLabel>\n                      </Tooltip>\n                    </TableCell>\n                    <TableCell\n                      key=\"avgStars\"\n                      sortDirection={orderBy === \"avgStars\" ? order : false}\n                      numeric\n                    >\n                      <Tooltip\n                        title=\"Sort\"\n                        placement=\"bottom-end\"\n                        enterDelay={300}\n                      >\n                        <TableSortLabel\n                          active={orderBy === \"avgStars\"}\n                          direction={order}\n                          onClick={() => this.handleSortRequest(\"avgStars\")}\n                        >\n                          Average Stars\n                        </TableSortLabel>\n                      </Tooltip>\n                    </TableCell>\n                    <TableCell\n                      key=\"numReviews\"\n                      sortDirection={orderBy === \"numReviews\" ? order : false}\n                      numeric\n                    >\n                      <Tooltip\n                        title=\"Sort\"\n                        placement=\"bottom-start\"\n                        enterDelay={300}\n                      >\n                        <TableSortLabel\n                          active={orderBy === \"numReviews\"}\n                          direction={order}\n                          onClick={() => this.handleSortRequest(\"numReviews\")}\n                        >\n                          Number of Reviews\n                        </TableSortLabel>\n                      </Tooltip>\n                    </TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {data.Review.map(n => {\n                    return (\n                      <TableRow key={n.id}>\n                        <TableCell component=\"th\" scope=\"row\">\n                          {n.id}\n                        </TableCell>\n                        <TableCell numeric>\n                          {n.stars ? n.stars.toFixed(2) : \"-\"}\n                        </TableCell>\n                        <TableCell>{n.reviewsWritten}</TableCell>\n                      </TableRow>\n                    );\n                  })}\n                </TableBody>\n              </Table>\n            </Paper>\n          );\n        }}\n      </Query>\n    );\n  }\n}\n\nexport default withStyles(styles)(UserList);\n"]},"metadata":{},"sourceType":"module"}